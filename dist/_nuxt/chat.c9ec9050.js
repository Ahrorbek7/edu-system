import{_ as $}from"./nuxt-link.ae0995ea.js";import A from"./Icon.147ffa57.js";import{f as C,o as n,c,b as m,w as x,a as e,g as a,h as N,i as S,F as M,r as V,d as u,t as _,j as w,k as g,l as B,v as D,m as T,n as U,_ as j}from"./entry.658c09b7.js";import{u as F}from"./asyncData.83219eef.js";import{g as v,U as I}from"./index.7aba0e44.js";import"./index.344f9f74.js";const L=""+new URL("chatting-user.414141a6.png",import.meta.url).href,R={class:"flex overflow-hidden"},q=e("i",{class:"bi bi-house-fill text-2xl text-white mx-5"},null,-1),E=e("section",{class:"chat-img w-[50%] h-[100vh] overflow-hidden"},[e("nav",{class:"chatting-nav bg-purple-600 text-white h-[16vh] font-semibold py-4 border-2 w-3/5 flex items-center justify-center"},[e("h2",{class:"text-center text-2xl"}," Discuss with friends ")]),e("img",{class:"w-1/2 mx-auto my-7",src:L,alt:""})],-1),H={class:"chat-section w-[50%] border-l-2 bg-purple-600 overflow-hidden"},O={class:"message-section w-full h-[82vh] my-12 overflow-y-scroll"},P=["href"],W=["src"],z={class:"chat-msg w-full h-[50%] overflow-y-scroll flex-wrap"},G={class:"m-5"},J={class:"text-sm text-gray-600 float-right my-3 mx-4"},K={__name:"ChatMessages",async setup(p){let t,s;const r=w(),{data:d,refresh:h,pending:i}=([t,s]=C(()=>F("issues",()=>v("/repos/Ahrorbek7/edu-system/issues"),{transform:l=>l.filter(f=>f.state==="open")})),t=await t,s(),t);return r.hook("refresh:messages",h),(l,f)=>{const y=$,b=A;return n(),c("div",R,[m(y,{class:"absolute top-10 left-10",to:"/home"},{default:x(()=>[q]),_:1}),E,e("section",H,[a(i)?S("",!0):(n(),N(b,{key:0,name:"mdi:refresh",class:"text-white text-5xl float-right m-2 cursor-pointer",onClick:a(h)},null,8,["onClick"])),e("main",O,[(n(!0),c(M,null,V(a(d),o=>(n(),c("div",{key:o.id,class:"chat-message w-[400px] py-1 flex-wrap overflow-auto bg-gray-100 my-6 mx-16 shadow-gray-400 shadow-md"},[e("a",{class:"m-2 flex items-center text-gray-700 font-semibold",href:`https://github.com/${o.user.login}`,target:"_blank"},[e("img",{class:"mx-2 rounded-[50%]",width:"50px",src:o.user.avatar_url},null,8,W),u(" "+_(o.user.login),1)],8,P),e("div",z,[e("h3",G,_(o.title),1)]),e("p",J,[u(" Sent "),m(a(I),{time:o.created_at},{default:x(({timeAgo:k})=>[u(_(k),1)]),_:2},1032,["time"])])]))),128))])])])}}},Q=K,X=["onSubmit"],Y={class:"new w-1/2 flex justify-end items-center fixed bottom-0 right-0"},Z={type:"submit",class:"send-btn py-[19px] px-6 text-white bg-purple-600 border-2 border-white rounded"},ee={__name:"NewMessage",setup(p){const t=g(""),s=g(!1),r=w(),d=async()=>{s.value||!t.value.trim()||(s.value=!0,await v("/repos/Ahrorbek7/edu-system/issues",{method:"POST",body:{title:t.value}}),s.value=!1,t.value="",r.callHook("refresh:messages"))};return(h,i)=>(n(),c("div",null,[e("form",{onSubmit:U(d,["prevent"])},[e("div",Y,[B(e("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>T(t)?t.value=l:null),type:"text",required:"",placeholder:"Write a message... :)",class:"new-msg w-[90%] h-[9vh] shadow-xl my-[-20px] px-3 border outline-none"},null,512),[[D,a(t)]]),e("button",Z,_(a(s)?"Sending...":"Send"),1)])],40,X)]))}},te=ee,se={},oe={class:"chat-container overflow-y-hidden"};function ne(p,t){const s=Q,r=te;return n(),c("div",oe,[m(s),m(r)])}const me=j(se,[["render",ne]]);export{me as default};
